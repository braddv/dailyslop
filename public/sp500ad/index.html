<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <base href="/sp500ad/" />
    <title>S&P 500 Sector Bubble Map</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="/sp500ad/styles.css" />
  </head>
  <body>
    <div class="glow"></div>
    <main class="shell">
      <header class="hero">
        <div>
          <p class="eyebrow">S&P 500 market internals</p>
          <h1>Sector bubble map</h1>
          <p class="subhead" id="metricSubhead">Daily percent change by stock, grouped by sector.</p>
        </div>
        <div class="meta">
          <div class="meta-card">
            <span class="meta-label">As of</span>
            <span id="asOf" class="meta-value">--</span>
          </div>
          <div class="meta-card">
            <span class="meta-label">Cache</span>
            <span id="cache" class="meta-value">--</span>
          </div>
        </div>
      </header>

      <section class="controls">
        <div class="toggle-group" id="metricToggle">
          <button class="toggle-btn active" data-metric="changePercent">1D</button>
          <button class="toggle-btn" data-metric="perf1w">1W</button>
          <button class="toggle-btn" data-metric="perf1m">1M</button>
          <button class="toggle-btn" data-metric="perf3m">3M</button>
          <button class="toggle-btn" data-metric="pctFrom52wHigh">52W High</button>
        </div>
      </section>

      <section class="chart-shell">
        <div class="y-axis" id="yAxis"></div>
        <div class="chart" id="chart"></div>
      </section>

      <footer class="footer">
        <button class="refresh" id="refresh">Refresh</button>
        <label class="toggle">
          <input type="checkbox" id="capToggle" checked />
          Scale by market cap
        </label>
        <div class="notes" id="notes"></div>
      </footer>
    </main>

    <div class="tooltip" id="tooltip"></div>

    <script src="/sp500ad/app.js"></script>
  </body>
</html>
